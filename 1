 - hosts: all
   tasks:

   - name= install apache2
    apt: name=apt-get install apache2 state= latest
     notify:

      -start apache

      - hosts: ubuntu
        tasks:

	- name: install git
	  apt: name=apt-get install git state=latest
	  notify:
	  - start git
	  - hosts: ubuntu
	    tasks: 
	    - name: apt-get install maven
	      apt: name=apt-get install maven state=latest
	      notify:
	      - start maven
	      -hosts: ubuntu
	       tasks:
	       - name: install jenkins
	         apt: name=apt-get install jenkins state=latest
		 notify:
		 - start jenkins
		 - hosts: ubuntu
		   tasks:
		   - name: install ansible
		     apt: apt-get install ansible state:latest
		     notify:
		     - start ansible
		     - hosts: all
		       remote_user: root
                       tasks:
		       - name: install httpd
		         apt: name=apt-get install httpd state=latest
			 when: ansible_distribution='ubuntu'
			 - hosts: all
			   remote_user: root
			   tasks:
			   - name: install apache2
			     apt: name=apt-get install apache2
			     when: ansible_distribution='centos'


			     - hosts: all
			       remote_user: root
			       tasks:
			       - name: install apache
			         apt: name=apache2 state=latest
				 when: ansible_distribution='ubuntu'

				 - hosts: all
				   remote_user: root
				   tasks:
				   - name: install packages
				     raw: yum -y update
				     when: ansible_distribution='centos'

				     - name: install packages
				       raw: apt-get update
				       when: ansible_distribution='ubuntu'
				       -name: to deploy the file
				        copy:
					src: /root/index.html
					test: /var/www/html/index.html





